-- [[ Death Ball Boss Farm Script by @rrdesi ]] --

local function sendNotification(title, text, duration)
    local starterGui = game:GetService("StarterGui")
    starterGui:SetCore("SendNotification", {
        Title = title;
        Text = text;
        Duration = duration;
    })
end

local function handleVillainMech()
    local buildFolder = workspace:FindFirstChild("ActiveMap")
        and workspace.ActiveMap:FindFirstChild("Villain Mech")
        and workspace.ActiveMap["Villain Mech"]:FindFirstChild("Build")

    if buildFolder then
        buildFolder:Destroy()
    end

    local partPosition = Vector3.new(773, 507, 848)

    local newPart = Instance.new("Part")
    newPart.Size = Vector3.new(30, 1, 30)
    newPart.Position = partPosition
    newPart.Anchored = true
    newPart.Material = Enum.Material.Neon
    newPart.BrickColor = BrickColor.new("Bright blue")
    newPart.Parent = workspace

    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local primaryPart = character.PrimaryPart
    if primaryPart then
        character:SetPrimaryPartCFrame(CFrame.new(partPosition + Vector3.new(0, 2, 0)))
    end

    sendNotification("DesiWare Death Ball", "Mech Boss AutoFarm Executed!", 5)
end

local function handleCursedSpirit()
    local buildFolder = workspace:FindFirstChild("ActiveMap")
        and workspace.ActiveMap:FindFirstChild("Cursed Spirit")
        and workspace.ActiveMap["Cursed Spirit"]:FindFirstChild("Build")

    if buildFolder then
        buildFolder:Destroy()
    end

    local partPosition = Vector3.new(672, 389, 842)

    local newPart = Instance.new("Part")
    newPart.Size = Vector3.new(30, 1, 30)
    newPart.Position = partPosition
    newPart.Anchored = true
    newPart.Material = Enum.Material.Neon
    newPart.BrickColor = BrickColor.new("Bright blue")
    newPart.Parent = workspace

    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local primaryPart = character.PrimaryPart
    if primaryPart then
        character:SetPrimaryPartCFrame(CFrame.new(partPosition + Vector3.new(0, 2, 0)))
    end

    sendNotification("DesiWare Death Ball", "Cursed Spirit AutoFarm Executed!", 5)
end

sendNotification("DesiWare Death Ball", "Scanning for Boss...", 3)

-- Boss detector
local activeMap = workspace:FindFirstChild("ActiveMap")
if activeMap then
    if activeMap:FindFirstChild("Villain Mech") then
        handleVillainMech()
    elseif activeMap:FindFirstChild("Cursed Spirit") then
        handleCursedSpirit()
    end
end
